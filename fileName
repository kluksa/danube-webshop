SET DB_CLOSE_DELAY -1;        
;             
CREATE USER IF NOT EXISTS SA SALT '1dfacb8703bde058' HASH '8cb9ce3f71f50629ce91db4a7c8173aa0f730e6a509843b4f91a937fa2392084' ADMIN;           
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_FEA203FD_8C9E_486F_9D9C_3DFDF487A1C0 START WITH 15 BELONGS_TO_TABLE;   
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_877FE0B5_05A2_45F9_BDEA_BC78F6EB0B7A START WITH 5 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_ECFE9153_1EE5_4CED_9224_59C39B04D588 START WITH 1 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_35CB08E5_26E5_4723_962D_D8C42F6BB02A START WITH 4 BELONGS_TO_TABLE;    
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F25176B0_587F_4319_A54D_4A4C71A7F871 START WITH 3 BELONGS_TO_TABLE;    
CREATE MEMORY TABLE PUBLIC.TBL_BASKET(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_ECFE9153_1EE5_4CED_9224_59C39B04D588) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_ECFE9153_1EE5_4CED_9224_59C39B04D588,
    CREATED_AT TIMESTAMP NOT NULL,
    CREATED_BY VARCHAR(255) NOT NULL,
    ITEM_ID BIGINT NOT NULL,
    USER_ID INTEGER NOT NULL
);          
ALTER TABLE PUBLIC.TBL_BASKET ADD CONSTRAINT PUBLIC.CONSTRAINT_4 PRIMARY KEY(ID);             
-- 0 +/- SELECT COUNT(*) FROM PUBLIC.TBL_BASKET;              
CREATE MEMORY TABLE PUBLIC.TBL_ITEM(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_FEA203FD_8C9E_486F_9D9C_3DFDF487A1C0) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_FEA203FD_8C9E_486F_9D9C_3DFDF487A1C0,
    CREATED_AT TIMESTAMP NOT NULL,
    CREATED_BY VARCHAR(255) NOT NULL,
    DESCRIPTION VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL,
    PICTURE_URL VARCHAR(255),
    CATEGORY_ID BIGINT NOT NULL
);               
ALTER TABLE PUBLIC.TBL_ITEM ADD CONSTRAINT PUBLIC.CONSTRAINT_40 PRIMARY KEY(ID);              
-- 14 +/- SELECT COUNT(*) FROM PUBLIC.TBL_ITEM;               
CREATE MEMORY TABLE PUBLIC.TBL_PRODUCT_CATEGORY(
    ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_877FE0B5_05A2_45F9_BDEA_BC78F6EB0B7A) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_877FE0B5_05A2_45F9_BDEA_BC78F6EB0B7A,
    CREATED_AT TIMESTAMP NOT NULL,
    CREATED_BY VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL
);            
ALTER TABLE PUBLIC.TBL_PRODUCT_CATEGORY ADD CONSTRAINT PUBLIC.CONSTRAINT_8 PRIMARY KEY(ID);   
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.TBL_PRODUCT_CATEGORY;    
CREATE MEMORY TABLE PUBLIC.TBL_ROLE(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_F25176B0_587F_4319_A54D_4A4C71A7F871) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_F25176B0_587F_4319_A54D_4A4C71A7F871,
    CREATED_AT TIMESTAMP NOT NULL,
    CREATED_BY VARCHAR(255) NOT NULL,
    NAME VARCHAR(255) NOT NULL
);       
ALTER TABLE PUBLIC.TBL_ROLE ADD CONSTRAINT PUBLIC.CONSTRAINT_404 PRIMARY KEY(ID);             
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.TBL_ROLE;
CREATE MEMORY TABLE PUBLIC.TBL_USER(
    ID INTEGER DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_35CB08E5_26E5_4723_962D_D8C42F6BB02A) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_35CB08E5_26E5_4723_962D_D8C42F6BB02A,
    CREATED_AT TIMESTAMP NOT NULL,
    CREATED_BY VARCHAR(255) NOT NULL,
    ENABLED BOOLEAN NOT NULL,
    PASSWORD VARCHAR(255),
    USERNAME VARCHAR(255) NOT NULL
);        
ALTER TABLE PUBLIC.TBL_USER ADD CONSTRAINT PUBLIC.CONSTRAINT_405 PRIMARY KEY(ID);             
-- 3 +/- SELECT COUNT(*) FROM PUBLIC.TBL_USER;
CREATE MEMORY TABLE PUBLIC.USER_HAS_ROLES(
    USER_ID INTEGER NOT NULL,
    ROLE_ID INTEGER NOT NULL
);   
ALTER TABLE PUBLIC.USER_HAS_ROLES ADD CONSTRAINT PUBLIC.CONSTRAINT_9 PRIMARY KEY(USER_ID, ROLE_ID);           
-- 4 +/- SELECT COUNT(*) FROM PUBLIC.USER_HAS_ROLES;          
ALTER TABLE PUBLIC.TBL_BASKET ADD CONSTRAINT PUBLIC.FKESA6N3UL76X6GUFNL8AW2BNU5 FOREIGN KEY(ITEM_ID) REFERENCES PUBLIC.TBL_ITEM(ID) NOCHECK;  
ALTER TABLE PUBLIC.TBL_BASKET ADD CONSTRAINT PUBLIC.FK7CT6VXQBV8SD9GUY202S6K5KT FOREIGN KEY(USER_ID) REFERENCES PUBLIC.TBL_USER(ID) NOCHECK;  
ALTER TABLE PUBLIC.TBL_ITEM ADD CONSTRAINT PUBLIC.FK95MT85LTK0DP9PMXEGN5SNK2O FOREIGN KEY(CATEGORY_ID) REFERENCES PUBLIC.TBL_PRODUCT_CATEGORY(ID) NOCHECK;    
ALTER TABLE PUBLIC.USER_HAS_ROLES ADD CONSTRAINT PUBLIC.FKLTJ87XJTQ9KLG0JPJ8M8CCCPC FOREIGN KEY(USER_ID) REFERENCES PUBLIC.TBL_USER(ID) NOCHECK;              
ALTER TABLE PUBLIC.USER_HAS_ROLES ADD CONSTRAINT PUBLIC.FK3E75MFC9FTJ0YD81LLV4M7I31 FOREIGN KEY(ROLE_ID) REFERENCES PUBLIC.TBL_ROLE(ID) NOCHECK;              
